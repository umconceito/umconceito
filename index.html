<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="https://emojiapi.dev/api/v1/2764/32.png" type="image/png">
  <title>Numerix da Minha Vic</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,700;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(ellipse at top, rgba(255, 248, 240, 0.9) 0%, transparent 50%),
        radial-gradient(ellipse at bottom right, rgba(238, 228, 218, 0.6) 0%, transparent 50%),
        linear-gradient(135deg, #f8f4f0 0%, #f0ebe5 30%, #e8ddd4 60%, #ddd0c3 100%);
      font-family: 'Cormorant Garamond', serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: radial-gradient(circle at 15% 30%, rgba(139, 119, 101, 0.04) 0%, transparent 40%),
        radial-gradient(circle at 85% 70%, rgba(160, 139, 118, 0.04) 0%, transparent 40%);
      pointer-events: none;
      z-index: 1;
      animation: float 20s ease-in-out infinite;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0px) rotate(0deg);
      }

      50% {
        transform: translateY(-10px) rotate(1deg);
      }
    }

    /* Controles de M√∫sica Fixos */
    .music-controls-fixed {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 15px 20px;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(139, 119, 101, 0.2);
      border: 1px solid rgba(139, 119, 101, 0.1);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-width: 200px;
    }

    .music-title-small {
      font-family: 'Playfair Display', serif;
      font-size: 0.9rem;
      color: #8b7765;
      font-weight: 600;
      text-align: center;
      margin-bottom: 5px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .play-btn-small {
      background: linear-gradient(135deg, #d4c4a8, #c4b49d);
      border: 1px solid #a08b76;
      color: #8b7765;
      padding: 10px 20px;
      border-radius: 20px;
      cursor: pointer;
      font-family: 'Cormorant Garamond', serif;
      font-size: 0.95rem;
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(139, 119, 101, 0.15);
    }

    .play-btn-small:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 18px rgba(139, 119, 101, 0.25);
    }

    .volume-control-small {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .volume-btn-small {
      background: none;
      border: none;
      color: #8b7765;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 5px;
    }

    .volume-btn-small:hover {
      color: #a08b76;
      transform: scale(1.1);
    }

    .volume-slider-small {
      flex: 1;
      -webkit-appearance: none;
      height: 6px;
      border-radius: 3px;
      background: rgba(139, 119, 101, 0.2);
      outline: none;
    }

    .volume-slider-small::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: linear-gradient(135deg, #8b7765, #a08b76);
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(139, 119, 101, 0.3);
    }

    /* Container Principal */
    .container {
      position: relative;
      z-index: 10;
      max-width: 800px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
    }

    .header {
      text-align: center;
      margin-bottom: 20px;
    }

    .main-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2.5rem, 6vw, 4rem);
      color: #8b7765;
      margin-bottom: 10px;
      font-weight: 700;
      letter-spacing: -1px;
      text-shadow: 0 4px 8px rgba(139, 119, 101, 0.1);
    }

    .subtitle {
      font-size: clamp(1rem, 2.5vw, 1.3rem);
      color: #a08b76;
      font-style: italic;
    }

    /* Se√ß√£o do Jogo */
    .game-section {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(139, 119, 101, 0.15);
      border: 1px solid rgba(139, 119, 101, 0.1);
      width: 100%;
      max-width: 600px;
    }

    .game-title {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      color: #8b7765;
      text-align: center;
      margin-bottom: 30px;
      font-weight: 700;
    }

    .numbers-list {
      background: rgba(139, 119, 101, 0.08);
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      border-left: 4px solid #c4b49d;
    }

    .numbers-list h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      color: #8b7765;
      margin-bottom: 15px;
      font-weight: 600;
    }

    .number-group {
      margin-bottom: 12px;
      font-size: 1.1rem;
      color: #8b7765;
    }

    .number-group strong {
      color: #a08b76;
      font-weight: 600;
    }

    /* Grade do Jogo */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
      margin-bottom: 30px;
      justify-content: center;
    }

    .grid-cell {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      font-size: 1.5rem;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .grid-cell.blocked {
      background: linear-gradient(135deg, #8b7765, #6d5d4d);
      cursor: not-allowed;
    }

    .grid-cell input {
      width: 100%;
      height: 100%;
      border: 2px solid #d4c4a8;
      border-radius: 8px;
      text-align: center;
      font-size: 1.5rem;
      font-weight: 600;
      font-family: 'Cormorant Garamond', serif;
      color: #8b7765;
      background: white;
      transition: all 0.3s ease;
    }

    .grid-cell input:focus {
      outline: none;
      border-color: #a08b76;
      box-shadow: 0 0 0 3px rgba(139, 119, 101, 0.1);
      transform: scale(1.05);
    }

    .grid-cell input[readonly] {
      background: linear-gradient(135deg, #e8ddd4, #ddd0c3);
      color: #6d5d4d;
      font-weight: 700;
      cursor: not-allowed;
      border-color: #c4b49d;
    }

    .grid-cell input.correct {
      border-color: #7ab87a;
      background: rgba(122, 184, 122, 0.1);
    }

    .grid-cell input.incorrect {
      border-color: #d9534f;
      background: rgba(217, 83, 79, 0.1);
      animation: shake 0.4s ease;
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      25% {
        transform: translateX(-5px);
      }

      75% {
        transform: translateX(5px);
      }
    }

    .number-group.completed {
      text-decoration: line-through;
      opacity: 0.5;
      transition: all 0.3s ease;
    }

    .complete-btn {
      background: linear-gradient(135deg, #d4c4a8, #c4b49d);
      border: 2px solid #a08b76;
      color: #8b7765;
      padding: 15px 40px;
      border-radius: 30px;
      cursor: pointer;
      font-family: 'Playfair Display', serif;
      font-size: 1.3rem;
      font-weight: 600;
      transition: all 0.4s ease;
      box-shadow: 0 6px 20px rgba(139, 119, 101, 0.2);
      display: block;
      margin: 0 auto;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .complete-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(139, 119, 101, 0.3);
      background: linear-gradient(135deg, #c4b49d, #b4a491);
    }

    /* Se√ß√£o de Vit√≥ria e Countdown */
    .victory-section {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(139, 119, 101, 0.15);
      border: 1px solid rgba(139, 119, 101, 0.1);
      width: 100%;
      max-width: 700px;
      text-align: center;
    }

    .victory-message {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      color: #8b7765;
      margin-bottom: 30px;
      font-weight: 700;
      animation: celebration 0.6s ease-out;
    }

    @keyframes celebration {
      0% {
        transform: scale(0.5);
        opacity: 0;
      }

      50% {
        transform: scale(1.1);
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .photo-frame-small {
      width: 200px;
      height: 250px;
      margin: 0 auto 30px;
      transform: rotate(-2deg);
      transition: all 0.6s ease;
    }

    .photo-frame-small:hover {
      transform: rotate(0deg) scale(1.05);
    }

    .photo-container-small {
      width: 100%;
      height: 100%;
      background: linear-gradient(145deg, #ffffff 0%, #fefefe 100%);
      padding: 12px;
      border-radius: 4px;
      box-shadow: 0 8px 32px rgba(139, 119, 101, 0.15);
    }

    .photo-small {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #f5f1eb 0%, #ede7de 100%);
      border-radius: 2px;
      background-image: url('nossa-foto.jpg');
      background-size: cover;
      background-position: center;
    }

    .countdown-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      color: #8b7765;
      margin-bottom: 25px;
      font-weight: 600;
    }

    .countdown-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      margin-bottom: 25px;
    }

    .time-box {
      background: rgba(255, 255, 255, 0.9);
      padding: 20px 15px;
      border-radius: 10px;
      border: 1px solid rgba(139, 119, 101, 0.15);
      box-shadow: 0 4px 15px rgba(139, 119, 101, 0.1);
      transition: all 0.3s ease;
    }

    .time-box:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(139, 119, 101, 0.2);
    }

    .time-number {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      font-weight: 700;
      color: #8b7765;
      display: block;
      line-height: 1;
    }

    .time-label {
      font-size: 0.9rem;
      color: #a08b76;
      margin-top: 8px;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      font-weight: 500;
    }

    .hidden {
      display: none;
    }

    /* Responsividade */
    @media (max-width: 768px) {
      .music-controls-fixed {
        top: 10px;
        right: 10px;
        min-width: 160px;
        padding: 12px 15px;
      }

      .game-section,
      .victory-section {
        padding: 25px 20px;
      }

      .grid-container {
        gap: 6px;
      }

      .grid-cell input {
        font-size: 1.2rem;
      }

      .countdown-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }
    }

    @media (max-width: 480px) {
      .music-controls-fixed {
        position: relative;
        top: 0;
        right: 0;
        margin-bottom: 20px;
        width: 100%;
        max-width: 300px;
      }

      .main-title {
        font-size: 2rem;
      }

      .complete-btn {
        padding: 12px 30px;
        font-size: 1.1rem;
      }
    }
  </style>
</head>

<body>
  <!-- M√∫sica de fundo -->
  <audio id="backgroundMusic" loop preload="auto">
    <source src="./musica-romantica.mp3" type="audio/mpeg">
  </audio>

  <!-- Controles de M√∫sica Fixos -->
  <div class="music-controls-fixed">
    <div class="music-title-small">‚ô™ Nosso Som</div>
    <button id="playBtn" class="play-btn-small">üéµ Tocar</button>
    <div class="volume-control-small">
      <button id="volumeBtn" class="volume-btn-small">üîä</button>
      <input type="range" id="volumeSlider" class="volume-slider-small" min="0" max="100" value="30">
    </div>
  </div>

  <div class="container">
    <!-- Cabe√ßalho -->
    <div class="header">
      <h1 class="main-title">Numerix</h1>
      <p class="subtitle">Resolva o enigma para revelar a surpresa</p>
    </div>

    <!-- Se√ß√£o do Jogo -->
    <div id="gameSection" class="game-section">
      <h2 class="game-title">Encaixe os N√∫meros</h2>

      <div class="numbers-list">
        <h3>N√∫meros para Encaixar:</h3>
        <div class="number-group"><strong>5 d√≠gitos:</strong> 63817, 48605</div>
        <div class="number-group"><strong>4 d√≠gitos:</strong> 2604, 1806</div>
        <div class="number-group"><strong>3 d√≠gitos:</strong> 735</div>
      </div>

      <div class="grid-container">
        <!-- Linha 1 -->
        <div class="grid-cell"><input type="text" maxlength="1" data-row="0" data-col="0"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="0" data-col="1" value="6" readonly></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="0" data-col="2"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="0" data-col="3"></div>
        <div class="grid-cell blocked"></div>

        <!-- Linha 2 -->
        <div class="grid-cell blocked"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="1" data-col="1"></div>
        <div class="grid-cell blocked"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="1" data-col="3" value="8" readonly></div>
        <div class="grid-cell blocked"></div>

        <!-- Linha 3 -->
        <div class="grid-cell"><input type="text" maxlength="1" data-row="2" data-col="0" value="1" readonly></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="2" data-col="1"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="2" data-col="2"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="2" data-col="3"></div>
        <div class="grid-cell blocked"></div>

        <!-- Linha 4 -->
        <div class="grid-cell blocked"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="3" data-col="1"></div>
        <div class="grid-cell blocked"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="3" data-col="3"></div>
        <div class="grid-cell blocked"></div>

        <!-- Linha 5 -->
        <div class="grid-cell blocked"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="4" data-col="1"></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="4" data-col="2" value="3" readonly></div>
        <div class="grid-cell"><input type="text" maxlength="1" data-row="4" data-col="3"></div>
        <div class="grid-cell blocked"></div>
      </div>

      <button id="completeBtn" class="complete-btn">Concluir Jogo</button>
    </div>

    <!-- Se√ß√£o de Vit√≥ria -->
    <div id="victorySection" class="victory-section hidden">
      <div class="victory-message">üéâ Voc√™ Conseguiu! üéâ</div>

      <div class="photo-frame-small">
        <div class="photo-container-small">
          <div class="photo-small"></div>
        </div>
      </div>

      <h2 class="countdown-title">‚è∞ Nosso Reencontro ‚è∞</h2>
      <div class="countdown-grid">
        <div class="time-box">
          <span class="time-number" id="days">00</span>
          <div class="time-label">Dias</div>
        </div>
        <div class="time-box">
          <span class="time-number" id="hours">00</span>
          <div class="time-label">Horas</div>
        </div>
        <div class="time-box">
          <span class="time-number" id="minutes">00</span>
          <div class="time-label">Min</div>
        </div>
        <div class="time-box">
          <span class="time-number" id="seconds">00</span>
          <div class="time-label">Seg</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Controles de M√∫sica
    const backgroundMusic = document.getElementById('backgroundMusic');
    const playBtn = document.getElementById('playBtn');
    const volumeBtn = document.getElementById('volumeBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    let isPlaying = false;

    backgroundMusic.volume = volumeSlider.value / 100;

    playBtn.addEventListener('click', () => {
      if (isPlaying) {
        backgroundMusic.pause();
        playBtn.textContent = 'üéµ Tocar';
        isPlaying = false;
      } else {
        backgroundMusic.play().then(() => {
          playBtn.textContent = '‚è∏Ô∏è Pausar';
          isPlaying = true;
        }).catch(error => console.log('Erro ao reproduzir:', error));
      }
    });

    volumeSlider.addEventListener('input', (e) => {
      backgroundMusic.volume = e.target.value / 100;
      updateVolumeIcon(e.target.value);
    });

    volumeBtn.addEventListener('click', () => {
      if (backgroundMusic.volume > 0) {
        backgroundMusic.volume = 0;
        volumeSlider.value = 0;
        volumeBtn.textContent = 'üîá';
      } else {
        backgroundMusic.volume = 0.3;
        volumeSlider.value = 30;
        volumeBtn.textContent = 'üîä';
      }
    });

    function updateVolumeIcon(volume) {
      if (volume == 0) {
        volumeBtn.textContent = 'üîá';
      } else if (volume < 50) {
        volumeBtn.textContent = 'üîâ';
      } else {
        volumeBtn.textContent = 'üîä';
      }
    }

    // L√≥gica do Jogo Numerix
      const inputs = document.querySelectorAll('.grid-cell input');
      const completeBtn = document.getElementById('completeBtn');
      const gameSection = document.getElementById('gameSection');
      const victorySection = document.getElementById('victorySection');
      const numberGroups = document.querySelectorAll('.number-group');

      // Solu√ß√£o correta do jogo
      const solution = {
        '0-0': '2', '0-1': '6', '0-2': '0', '0-3': '4',
        '1-1': '3', '1-3': '8',
        '2-0': '1', '2-1': '8', '2-2': '0', '2-3': '6',
        '3-1': '1', '3-3': '0',
        '4-1': '7', '4-2': '3', '4-3': '5'
      };

      // N√∫meros agrupados (como aparecem na lista)
      const numberSets = {
        "5 d√≠gitos": ["63817", "48605"],
        "4 d√≠gitos": ["2604", "1806"],
        "3 d√≠gitos": ["735"]
      };

      // Atualiza o estado dos grupos riscados
      function updateNumberGroups() {
        numberGroups.forEach(group => {
          const text = group.textContent;
          const matches = text.match(/\d+/g);
          if (!matches) return;

          // Verifica se algum n√∫mero est√° totalmente presente na grade
          const completedNumbers = matches.filter(num => {
            // Verifica se cada d√≠gito do n√∫mero aparece na grid na sequ√™ncia correta
            const digits = num.split("");
            const inputsArray = Array.from(inputs);
            const inputValues = inputsArray.map(inp => inp.value || "");
            return inputValues.join("").includes(num);
          });

          // Se todos os n√∫meros deste grupo foram encontrados
          if (completedNumbers.length === matches.length) {
            group.classList.add("completed");
          } else {
            group.classList.remove("completed");
          }
        });
      }

      // Navega√ß√£o e valida√ß√£o em tempo real
      inputs.forEach((input, index) => {
        input.addEventListener('input', (e) => {
          const value = e.target.value;
          const row = e.target.getAttribute('data-row');
          const col = e.target.getAttribute('data-col');
          const key = `${row}-${col}`;
          const correctValue = solution[key];

          // Permitir apenas n√∫meros
          if (!/^\d$/.test(value)) {
            e.target.value = '';
            e.target.classList.remove("correct", "incorrect");
            return;
          }

          // Marcar correto/incorreto
          if (value === correctValue) {
            e.target.classList.add("correct");
            e.target.classList.remove("incorrect");
          } else {
            e.target.classList.add("incorrect");
            e.target.classList.remove("correct");
          }

          // Avan√ßar para pr√≥ximo input
          if (value && index < inputs.length - 1) {
            inputs[index + 1].focus();
          }

          // Atualizar grupos riscados
          updateNumberGroups();
        });

        input.addEventListener('keydown', (e) => {
          if (e.key === 'Backspace' && !e.target.value && index > 0) {
            inputs[index - 1].focus();
          }
        });
      });

      // Verificar solu√ß√£o ao concluir
      completeBtn.addEventListener('click', () => {
        let correct = true;
        inputs.forEach(input => {
          const row = input.getAttribute('data-row');
          const col = input.getAttribute('data-col');
          const key = `${row}-${col}`;
          if (input.value !== solution[key]) {
            correct = false;
            input.classList.add("incorrect");
          }
        });

        if (correct) {
          gameSection.classList.add('hidden');
          victorySection.classList.remove('hidden');
          startCountdown();
        } else {
          alert('‚ùå Ainda n√£o est√° correto. Tente novamente!');
        }
      });

    // Contagem Regressiva
    function startCountdown() {
      function updateCountdown() {
        // Data alvo: 20 de Novembro de 2025, √†s 21:20 (Hor√°rio de Bras√≠lia - GMT-3)
        const targetDate = new Date('2025-11-20T21:20:00-03:00').getTime();
        const now = new Date().getTime();
        const difference = targetDate - now;

        if (difference > 0) {
          const days = Math.floor(difference / (1000 * 60 * 60 * 24));
          const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((difference % (1000 * 60)) / 1000);

          document.getElementById('days').textContent = days.toString().padStart(2, '0');
          document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
          document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
          document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        } else {
          document.getElementById('days').textContent = '00';
          document.getElementById('hours').textContent = '00';
          document.getElementById('minutes').textContent = '00';
          document.getElementById('seconds').textContent = '00';
          document.querySelector('.countdown-title').textContent = 'üíï Nosso momento chegou! üíï';
        }
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    }

    // Tentar reproduzir m√∫sica automaticamente
    window.addEventListener('load', () => {
      setTimeout(() => {
        backgroundMusic.play().then(() => {
          playBtn.textContent = '‚è∏Ô∏è Pausar';
          isPlaying = true;
        }).catch(() => {
          console.log('Reprodu√ß√£o autom√°tica bloqueada');
        });
      }, 1000);
    });
  </script>
</body>

</html>